<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dynamic Parameterization in Pairs Trading | Jiaqi  Ding</title>
    <meta name="author" content="Jiaqi  Ding">
    <meta name="description" content="the Chinese University of Hong Kong, Hong Kong">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700%7CRoboto+Slab:100,300,400,500,700%7CMaterial+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://littledylanding.github.io/projects/2_project/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Jiaqi </span>Ding</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">projects</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">Dynamic Parameterization in Pairs Trading</h1>
            <p class="post-description">the Chinese University of Hong Kong, Hong Kong</p>
          </header>

          <article>
            <p>Part I: Motivation</p>

<p>Traditional cointegration-based pairs trading faces the problem of dichotomous view on pairs relationship and static parameters, exposing it to market risk and structural changes in pairs relationship. Inspired by Prof. Law (2018) and Mr. Li Yiyun’s (2021) work in addressing these issues, this project would like to build a dynamic pairs trading strategy based on their proposals. Moreover, I’m interested in strengthening the performance through effective portfolio allocation. Referring the dynamic strategy as benchmark, various smart beta schemes based on conditional covariance matrix were implemented on top of it.</p>

<p>Part II: Statistical background</p>

<p>Here are several essential statistical analyses leveraged on throughout the implementation process of the trading strategy.</p>

<p>2.1 Kalman Filter:</p>

<p>This project applied Kalman Filter to dynamically update two important figures, one is the long-short ratio (beta), another is the ASR threshold. First, treat alpha and beta as state variables by transforming the problem into the following linear state space format. Then define absolute standardized residual (ASR) and calculate the conditional variance of forecast error. Additionally, the paper (2021) proposes alternative method to adjust ASR threshold through state variance.</p>

<p>2.2 Stochastic discount factor (SDF):</p>

<p>One way to formulate dynamic ADF threshold is by solving a system of SDF equations. This project has further imposed an upper and lower bound of the threshold to assure it will fall into a reasonable range.</p>

<p>2.3 Dynamic conditional correlation (DCC):</p>

<p>Note that the unconditional correlation between each pair is likely to be zero given the pairs are market neutral, and is most likely to capture the white noises if they turn out to be non-zero. However, under conditions like financial announcements or policy changes, the covariance could be non-zero and captured by DCC proposed by Engle (2002). The dynamic dependence of correlation is governed by two parameters, which are calculated through maximum-likelihood estimation.</p>

<p>2.4 Diversity Index:</p>

<p>Diversity index (DI) is a passive but dynamic portfolio. DI bears a relationship to its underlying index. If portfolio’s diversity doesn’t decrease and large companies in the original portfolio don’t have a higher yield than small companies, then DI would have a higher long-term return after a certain period. Since I’m testing on market index and necessary conditions for DI are not violated, then it’s logical to apply this method.</p>

<p>Part III: Strategy</p>

<p>3.1 Data collection and cleaning</p>

<p>TPX100 is chosen as the trading universe, which is liquid enough for our analysis. Five years of data is used for back-testing, starting from 8-Jan-2016 to 25-Dec-2020. Moreover, I used 52-weeks data for Kalman Filter initialization. Assume zero transaction cost, which does not violate the “all else equal” assumption in comparing the performance between the benchmark and proposed smart beta allocation.</p>

<p>3.2 Pair selection process</p>

<p>First, collect all possible pairs under TPX100 grouped by GICS (Global Industry Classification Standard) level II. Next, apply Kalman Filter to calculate the cointegration coefficients for all possible pairwise combinations. I would only include a pair into the potential group if all of the following criteria are fulfilled:</p>

<p>A)Cointegration check: the ADF t-stat is smaller than the ADF threshold, which is dynamically updatedusing SDF discussed in part II.</p>

<p>B)Deviation check: ASR is larger than or equal to the ASR threshold, which is dynamically updated usingKalman Filter.</p>

<p>C)The prices of both stocks in the pair are available in previous 52 weeks.</p>

<p>Lastly, within the potential group, we calculate their PS, select the top 20 pairs (if available) as our trading group based on PS. PS is defined as:
This allows us to test cointegration (via ADF) and deviation (via ASR) using one variable, which provides more concrete information compared to traditional pairs trading method.</p>

<p>3.3 Portfolio Allocation</p>

<p>The benchmark allocation is equal weighted initially, and do not manually adjust weight in the future rebalancing. This project proposed three different allocation schemes to improve the allocation: Global minimum variance (GMV), Maximum diversification ratio (MDR) and Diversity Index (DI). We used DCC to calculate the conditional covariance matrix used in the proposed allocation schemes.</p>

<p>3.4 Rebalancing</p>

<p>Rebalance on a weekly basis by first re-calculating the ADF and ASR thresholds. I will only close a position if any of the previous conditions in the selection process is violated. I then add new pairs into our portfolio based on the selection scheme in 3.2 and keep the number of pairs within 20. Finally, reallocate the portfolio based on 3.3.</p>

<p>Part IV: Empirical finding</p>

<p>4.1 Dynamic Thresholds</p>

<p>The strategy involves two dynamically changing thresholds, ADF and ASR threshold. It’s observed that the threshold levels were low in volatile markets (for instance, in 2008 and 2020), indicating the ability to adjust according to overall market conditions.</p>

<p>The thresholds would adjust upward when standard deviation of residual increases, suggesting more uncertainty in residual prediction. This allows the strategy to be more conservative when the pairs relationship becomes volatile.</p>

<p>4.2 Back-test Results</p>

<p>Both DI and MDR schemes outperformed the benchmark and DI schemes achieved the highest return of 26%. As for drawdown, although the 3 smart beta schemes have reduced certain level of risk, they do not always improve performance relative to benchmark.</p>

<p>Both MDR and DI outperformed the Benchmark scenario, with higher annualized return and lower maximum drawdown. In terms of risk-return tradeoff, DI and MDR also exceeded the benchmark strategy with higher ratios.</p>

<p>Part V: Conclusion</p>

<p>This project proposed and verified that by incorporating smart beta, including GMV, MDR and DI as alternative asset allocation strategies, the risk-adjusted performance can be further enhanced compared with original pairs trading strategy.</p>

<p>References:</p>

<p>Engle, R. (2002). Dynamic Conditional Correlation: A Simple Class of Multivariate Generalized Autoregressive Conditional Heteroskedasticity Models. Journal of Business &amp; Economic Statistics, 20(3), 339–350. http://www.jstor.org/stable/1392121</p>

<p>Ferguson, R., &amp; Fernholz, B. R. (1998). A New Kind of Index Fund that Beats its Index. The Journal of Performance Measurement, Winter 1998-1999, 35–48. https://papers.ssrn.com/sol3/papers.cfm? abstract_id=2335413</p>

<p>Law, K. F., Li, W. K., &amp; Yu, P. L. H. (2018). A single-stage approach for Cointegration-based pairs trading. Finance Research Letters, 26, 177–184. https://doi.org/10.1016/j.frl.2017.12.011</p>

<p>Li, Y., &amp; Law, K. K. F. (2021). Systematic risk in pairs trading and dynamic parameterization. Economics Letters, 202, 109842. https://doi.org/10.1016/j.econlet.2021.109842</p>

          </article>

        </div>

    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2023 Jiaqi  Ding. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.

      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
